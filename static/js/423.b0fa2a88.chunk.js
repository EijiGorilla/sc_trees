"use strict";(self.webpackChunksc_trees=self.webpackChunksc_trees||[]).push([[423],{38461:(t,e,n)=>{n.d(e,{xx:()=>i});var r=n(18722);function i(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t<=r.c8?e?new Array(t).fill(0):new Array(t):new Float32Array(t)}},39406:(t,e,n)=>{n.d(e,{$z:()=>s,KF:()=>l,mi:()=>i});var r=n(18722);function i(t){if((0,r.kJ)(t)){if(t.length<r.c8)return t}else if(t.length<r.c8)return Array.from(t);let e=!0,n=!0;return t.some(((t,r)=>(e=e&&0===t,n=n&&t===r,!e&&!n))),e?function(t){if(1===t)return a;if(t<r.c8)return new Array(t).fill(0);if(t>u.length){const e=Math.max(2*u.length,t);u=new Uint8Array(e)}return new Uint8Array(u.buffer,0,t)}(t.length):n?l(t.length):(0,r.kJ)(t)||t.BYTES_PER_ELEMENT!==Uint16Array.BYTES_PER_ELEMENT?function(t){let e=!0;for(const n of t){if(n>=65536)return(0,r.kJ)(t)?new Uint32Array(t):t;n>=256&&(e=!1)}return e?new Uint8Array(t):new Uint16Array(t)}(t):t}function s(t){return t<=r.c8?new Array(t):t<=65536?new Uint16Array(t):new Uint32Array(t)}let o=(()=>{const t=new Uint32Array(131072);for(let e=0;e<t.length;++e)t[e]=e;return t})();const a=[0],c=(()=>{const t=new Uint16Array(65536);for(let e=0;e<t.length;++e)t[e]=e;return t})();function l(t){if(1===t)return a;if(t<r.c8)return Array.from(new Uint16Array(c.buffer,0,t));if(t<c.length)return new Uint16Array(c.buffer,0,t);if(t>o.length){const e=Math.max(2*o.length,t);o=new Uint32Array(e);for(let t=0;t<o.length;t++)o[t]=t}return new Uint32Array(o.buffer,0,t)}let u=new Uint8Array(65536)},48734:(t,e,n)=>{function r(t){switch(t){case"u8":case"i8":return 1;case"u16":case"i16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8}}n.d(e,{n1:()=>r})},35888:(t,e,n)=>{n.d(e,{d:()=>s});var r=n(16889),i=n(39406);function s(t,e,n){const s=Array.isArray(t),u=s?t.length/e:t.byteLength/(4*e),f=s?t:new Uint32Array(t,0,u*e),d=n?.minReduction??0,h=n?.originalIndices||null,T=h?h.length:0,p=n?.componentOffsets||null;let A=0;if(p)for(let r=0;r<p.length-1;r++){const t=p[r+1]-p[r];t>A&&(A=t)}else A=u;const E=Math.floor(1.1*A)+1;(null==l||l.length<2*E)&&(l=new Uint32Array((0,r.Sf)(2*E)));for(let r=0;r<2*E;r++)l[r]=0;let N=0;const g=!!p&&!!h,O=g?T:u;let I=(0,i.$z)(u);const S=new Uint32Array(T),m=1.96;let y=0!==d?Math.ceil(4*m*m/(d*d)*d*(1-d)):O,w=1,R=p?p[1]:O;for(let r=0;r<O;r++){if(r===y){const t=1-N/r;if(t+m*Math.sqrt(t*(1-t)/r)<d)return null;y*=2}if(r===R){for(let t=0;t<2*E;t++)l[t]=0;if(h)for(let t=p[w-1];t<p[w];t++)S[t]=I[h[t]];R=p[++w]}const t=g?h[r]:r,n=t*e,i=c(f,n,e);let s=i%E,a=N;for(;0!==l[2*s+1];){if(l[2*s]===i){const t=l[2*s+1]-1;if(o(f,n,t*e,e)){a=I[t];break}}s++,s>=E&&(s-=E)}a===N&&(l[2*s]=i,l[2*s+1]=t+1,N++),I[t]=a}if(0!==d&&1-N/u<d)return null;if(g){for(let t=p[w-1];t<S.length;t++)S[t]=I[h[t]];I=(0,i.mi)(S)}const U=s?new Array(N):new Uint32Array(N*e);N=0;for(let r=0;r<O;r++)I[r]===N&&(a(f,(g?h[r]:r)*e,U,N*e,e),N++);if(h&&!g){const t=new Uint32Array(T);for(let e=0;e<t.length;e++)t[e]=I[h[e]];I=(0,i.mi)(t)}return{buffer:Array.isArray(U)?U:U.buffer,indices:I,uniqueCount:N}}function o(t,e,n,r){for(let i=0;i<r;i++)if(t[e+i]!==t[n+i])return!1;return!0}function a(t,e,n,r,i){for(let s=0;s<i;s++)n[r+s]=t[e+s]}function c(t,e,n){let r=0;for(let i=0;i<n;i++)r=t[e+i]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let l=null},55158:(t,e,n)=>{n.d(e,{Gw:()=>l,U$:()=>c});var r=n(25158),i=n(48734),s=n(97731);class o{constructor(t,e){this.layout=t,this.buffer="number"==typeof e?new ArrayBuffer(e*t.stride):e;for(const n of t.fields.keys()){const e=t.fields.get(n);this[n]=new e.constructor(this.buffer,e.offset,this.stride)}}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(t,e){const n=this[t];return n&&n.elementCount===e.ElementCount&&n.elementType===e.ElementType?n:null}slice(t,e){return new o(this.layout,this.buffer.slice(t*this.stride,e*this.stride))}copyFrom(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.count;const i=this.stride;if(i%4==0){const s=new Uint32Array(t.buffer,e*i,r*i/4);new Uint32Array(this.buffer,n*i,r*i/4).set(s)}else{const s=new Uint8Array(t.buffer,e*i,r*i);new Uint8Array(this.buffer,n*i,r*i).set(s)}return this}get usedMemory(){return this.byteLength}dispose(){}}class a{constructor(t){this._stride=0,this._lastAligned=0,this._fields=new Map,t&&(this._stride=t.stride,t.fields.forEach((t=>this._fields.set(t[0],{...t[1],constructor:d(t[1].constructor)}))))}freeze(){return this}vec2f(t,e){return this._appendField(t,r.Eu,e),this}vec2f64(t,e){return this._appendField(t,r.q6,e),this}vec3f(t,e){return this._appendField(t,r.ct,e),this}vec3f64(t,e){return this._appendField(t,r.fP,e),this}vec4f(t,e){return this._appendField(t,r.ek,e),this}vec4f64(t,e){return this._appendField(t,r.Cd,e),this}mat3f(t,e){return this._appendField(t,r.gK,e),this}mat3f64(t,e){return this._appendField(t,r.ey,e),this}mat4f(t,e){return this._appendField(t,r.bj,e),this}mat4f64(t,e){return this._appendField(t,r.O1,e),this}vec4u8(t,e){return this._appendField(t,r.mc,e),this}f32(t,e){return this._appendField(t,r.ly,e),this}f64(t,e){return this._appendField(t,r.oS,e),this}u8(t,e){return this._appendField(t,r.D_,e),this}u16(t,e){return this._appendField(t,r.av,e),this}i8(t,e){return this._appendField(t,r.Hz,e),this}vec2i8(t,e){return this._appendField(t,r.Vs,e),this}vec2i16(t,e){return this._appendField(t,r.or,e),this}vec2u8(t,e){return this._appendField(t,r.xA,e),this}vec4u16(t,e){return this._appendField(t,r.v6,e),this}u32(t,e){return this._appendField(t,r.Nu,e),this}_appendField(t,e,n){if(this._fields.has(t))return void(0,s.hu)(!1,`${t} already added to vertex buffer layout`);const r=e.ElementCount*(0,i.n1)(e.ElementType),o=this._stride;this._stride+=r,this._fields.set(t,{size:r,constructor:e,offset:o,optional:n})}createBuffer(t){return new o(this,t)}createView(t){return new o(this,t)}clone(){const t=new a;return t._stride=this._stride,t._fields=new Map,this._fields.forEach(((e,n)=>t._fields.set(n,e))),t.BufferType=this.BufferType,t}get stride(){if(this._lastAligned!==this._fields.size){let t=1;this._fields.forEach((e=>t=Math.max(t,(0,i.n1)(e.constructor.ElementType)))),this._stride=Math.floor((this._stride+t-1)/t)*t,this._lastAligned=this._fields.size}return this._stride}get fields(){return this._fields}}function c(){return new a}class l{constructor(t){this.fields=new Array,t.fields.forEach(((t,e)=>{const n={...t,constructor:f(t.constructor)};this.fields.push([e,n])})),this.stride=t.stride}}const u=[r.ly,r.Eu,r.ct,r.ek,r.gK,r.bj,r.oS,r.q6,r.fP,r.Cd,r.ey,r.O1,r.D_,r.xA,r.ne,r.mc,r.av,r.TS,r.mw,r.v6,r.Nu,r.qt,r.G5,r.hu,r.Hz,r.Vs,r.P_,r.ir,r.o7,r.or,r.n1,r.zO,r.Jj,r.wA,r.PP,r.TN];function f(t){return`${t.ElementType}_${t.ElementCount}`}function d(t){return h.get(t)}const h=new Map;u.forEach((t=>h.set(f(t),t)))},50256:(t,e,n)=>{n.d(e,{K:()=>s});var r=n(8548),i=n(61109);function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=t.stride;return Array.from(t.fields.keys()).map((r=>{const s=t.fields.get(r),a=s.constructor.ElementCount,c=o(s.constructor.ElementType),l=s.offset,u=s.optional?.glNormalized??!1;return new i.G(r,a,c,l,n,u,e)}))}function o(t){const e=a[t];if(e)return e;throw new Error("BufferType not supported in WebGL")}const a={u8:r.g.UNSIGNED_BYTE,u16:r.g.UNSIGNED_SHORT,u32:r.g.UNSIGNED_INT,i8:r.g.BYTE,i16:r.g.SHORT,i32:r.g.INT,f32:r.g.FLOAT}},97731:(t,e,n)=>{n.d(e,{hu:()=>i,yK:()=>s});n(6644),n(19093);(0,n(86361).Ue)();class r{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}}function i(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion";if(!t){const t=new Error(e).stack;throw new r(`${e} at ${t}`)}}function s(t,e,n,r){let i,s=(n[0]-t[0])/e[0],o=(r[0]-t[0])/e[0];s>o&&(i=s,s=o,o=i);let a=(n[1]-t[1])/e[1],c=(r[1]-t[1])/e[1];if(a>c&&(i=a,a=c,c=i),s>c||a>o)return!1;a>s&&(s=a),c<o&&(o=c);let l=(n[2]-t[2])/e[2],u=(r[2]-t[2])/e[2];return l>u&&(i=l,l=u,u=i),!(s>u||l>o)&&(u<o&&(o=u),!(o<0))}},4760:(t,e,n)=>{var r;n.d(e,{T:()=>r}),function(t){t.POSITION="position",t.NORMAL="normal",t.NORMALCOMPRESSED="normalCompressed",t.UV0="uv0",t.COLOR="color",t.SYMBOLCOLOR="symbolColor",t.SIZE="size",t.ROTATION="rotation",t.TANGENT="tangent",t.OFFSET="offset",t.PERSPECTIVEDIVIDE="perspectiveDivide",t.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance",t.LENGTH="length",t.PREVPOSITION="prevPosition",t.NEXTPOSITION="nextPosition",t.SUBDIVISIONFACTOR="subdivisionFactor",t.COLORFEATUREATTRIBUTE="colorFeatureAttribute",t.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",t.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",t.DISTANCETOSTART="distanceToStart",t.UVMAPSPACE="uvMapSpace",t.BOUNDINGRECT="boundingRect",t.UVREGION="uvRegion",t.PROFILERIGHT="profileRight",t.PROFILEUP="profileUp",t.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",t.FEATUREVALUE="featureValue",t.INSTANCEMODELORIGINHI="instanceModelOriginHi",t.INSTANCEMODELORIGINLO="instanceModelOriginLo",t.INSTANCEMODEL="instanceModel",t.INSTANCEMODELNORMAL="instanceModelNormal",t.INSTANCECOLOR="instanceColor",t.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",t.LOCALTRANSFORM="localTransform",t.GLOBALTRANSFORM="globalTransform",t.BOUNDINGSPHERE="boundingSphere",t.MODELORIGIN="modelOrigin",t.MODELSCALEFACTORS="modelScaleFactors",t.FEATUREATTRIBUTE="featureAttribute",t.STATE="state",t.LODLEVEL="lodLevel",t.POSITION0="position0",t.POSITION1="position1",t.NORMAL2COMPRESSED="normal2Compressed",t.COMPONENTINDEX="componentIndex",t.VARIANTOFFSET="variantOffset",t.VARIANTSTROKE="variantStroke",t.VARIANTEXTENSION="variantExtension",t.SIDENESS="sideness",t.START="start",t.END="end",t.UP="up",t.START_UP="startUp",t.END_UP="endUp",t.EXTRUDE="extrude",t.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor",t.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"}(r||(r={}))},67009:(t,e,n)=>{n.d(e,{Hr:()=>l,dG:()=>c,tf:()=>o});var r=n(50256),i=n(55158),s=n(4760);const o=(0,i.U$)().vec3f(s.T.POSITION).u16(s.T.COMPONENTINDEX).freeze(),a=(0,i.U$)().vec2u8(s.T.SIDENESS).freeze(),c=((0,r.K)(a),(0,i.U$)().vec3f(s.T.POSITION0).vec3f(s.T.POSITION1).vec2i16(s.T.NORMALCOMPRESSED).u16(s.T.COMPONENTINDEX).u8(s.T.VARIANTOFFSET,{glNormalized:!0}).u8(s.T.VARIANTSTROKE).u8(s.T.VARIANTEXTENSION,{glNormalized:!0}).freeze()),l=(0,i.U$)().vec3f(s.T.POSITION0).vec3f(s.T.POSITION1).vec2i16(s.T.NORMALCOMPRESSED).vec2i16(s.T.NORMAL2COMPRESSED).u16(s.T.COMPONENTINDEX).u8(s.T.VARIANTOFFSET,{glNormalized:!0}).u8(s.T.VARIANTSTROKE).u8(s.T.VARIANTEXTENSION,{glNormalized:!0}).freeze();new Map([[s.T.POSITION0,0],[s.T.POSITION1,1],[s.T.COMPONENTINDEX,2],[s.T.VARIANTOFFSET,3],[s.T.VARIANTSTROKE,4],[s.T.VARIANTEXTENSION,5],[s.T.NORMALCOMPRESSED,6],[s.T.NORMAL2COMPRESSED,7],[s.T.SIDENESS,8]])},32666:(t,e,n)=>{n.d(e,{n:()=>c});var r=n(16889),i=n(27546),s=n(32035),o=n(12400);const a=-1;function c(t,e,n){const r=t.vertices.position,i=t.vertices.componentIndex,o=p.position0,c=p.position1,f=p.faceNormal0,h=p.faceNormal1,{edges:T,normals:A}=u(t),E=T.length/4,N=e.allocate(E);let g=0;const O=E,m=n?.allocate(O);let w=0,R=0,U=0;d.length=0;for(let a=0;a<E;++a){const t=4*a;r.getVec(T.data[t],o),r.getVec(T.data[t+1],c);const e=d.pushNew();e.index=4*a,e.length=(0,s.j)(o,c)}d.sort(((t,e)=>e.length-t.length));const v=new Array,_=new Array;d.forAll((t=>{let{length:u,index:d}=t;const E=T.data[d],O=T.data[d+1],F=T.data[d+2],M=T.data[d+3],L=M===a;if(r.getVec(E,o),r.getVec(O,c),L){const t=3*F;(0,s.i)(f,A.data[t],A.data[t+1],A.data[t+2]),(0,s.c)(h,f),p.componentIndex=i.get(E),p.cosAngle=(0,s.f)(f,h)}else{let t=3*F;if((0,s.i)(f,A.data[t],A.data[t+1],A.data[t+2]),t=3*M,(0,s.i)(h,A.data[t],A.data[t+1],A.data[t+2]),p.componentIndex=i.get(E),p.cosAngle=(0,s.f)(f,h),function(t,e){return t.cosAngle>e}(p,S))return;p.cosAngle<-.9999&&(0,s.c)(h,f)}R+=u,U++,L||function(t,e){return t.cosAngle<e}(p,y)?(e.write(N,g++,p),v.push(u)):l(p,I)&&(m&&n&&n.write(m,w++,p),_.push(u))}));const F=new Float32Array(v.reverse()),M=new Float32Array(_.reverse()),L=m&&n?{instancesData:m.slice(0,w),lodInfo:{lengths:M}}:void 0;return{regular:{instancesData:N.slice(0,g),lodInfo:{lengths:F}},silhouette:L,averageEdgeLength:R/U}}function l(t,e){const n=(0,r.ZF)(t.cosAngle);return(0,s.o)(E,t.position1,t.position0),n*((0,s.f)((0,s.e)(A,t.faceNormal0,t.faceNormal1),E)>0?-1:1)>e}function u(t){const e=t.faces.length/3,n=t.faces,r=t.neighbors,i=t.vertices.position;h.length=T.length=0;for(let o=0;o<e;o++){const t=3*o,e=r[t],c=r[t+1],l=r[t+2],u=n[t],f=n[t+1],d=n[t+2];i.getVec(u,N),i.getVec(f,g),i.getVec(d,O),(0,s.d)(g,g,N),(0,s.d)(O,O,N),(0,s.e)(N,g,O),(0,s.n)(N,N),T.pushArray(N),(e===a||u<f)&&(h.push(u),h.push(f),h.push(o),h.push(e)),(c===a||f<d)&&(h.push(f),h.push(d),h.push(o),h.push(c)),(l===a||d<u)&&(h.push(d),h.push(u),h.push(o),h.push(l))}return{edges:h,normals:T}}class f{constructor(){this.index=0,this.length=0}}const d=new i.Z({allocator:t=>t||new f,deallocator:null}),h=new i.Z({deallocator:null}),T=new i.Z({deallocator:null}),p=new class{constructor(){this.position0=(0,o.Ue)(),this.position1=(0,o.Ue)(),this.faceNormal0=(0,o.Ue)(),this.faceNormal1=(0,o.Ue)(),this.componentIndex=0,this.cosAngle=0}},A=(0,o.Ue)(),E=(0,o.Ue)(),N=(0,o.Ue)(),g=(0,o.Ue)(),O=(0,o.Ue)(),I=(0,r.Vl)(4),S=Math.cos(I),m=(0,r.Vl)(35),y=Math.cos(m)},70423:(t,e,n)=>{n.d(e,{Kl:()=>v,n_:()=>P,kY:()=>_,Yr:()=>C});var r=n(35888);function i(t,e,n){const r=e/3,i=new Uint32Array(n+1),s=new Uint32Array(n+1),o=(t,e)=>{t<e?i[t+1]++:s[e+1]++};for(let E=0;E<r;E++){const e=t[3*E],n=t[3*E+1],r=t[3*E+2];o(e,n),o(n,r),o(r,e)}let a=0,c=0;for(let E=0;E<n;E++){const t=i[E+1],e=s[E+1];i[E+1]=a,s[E+1]=c,a+=t,c+=e}const l=new Uint32Array(6*r),u=i[n],f=(t,e,n)=>{if(t<e){const r=i[t+1]++;l[2*r]=e,l[2*r+1]=n}else{const r=s[e+1]++;l[2*u+2*r]=t,l[2*u+2*r+1]=n}};for(let E=0;E<r;E++){const e=t[3*E],n=t[3*E+1],r=t[3*E+2];f(e,n,E),f(n,r,E),f(r,e,E)}const d=(t,e)=>{const n=2*t,r=e-t;for(let i=1;i<r;i++){const t=l[n+2*i],e=l[n+2*i+1];let r=i-1;for(;r>=0&&l[n+2*r]>t;r--)l[n+2*r+2]=l[n+2*r],l[n+2*r+3]=l[n+2*r+1];l[n+2*r+2]=t,l[n+2*r+3]=e}};for(let E=0;E<n;E++)d(i[E],i[E+1]),d(u+s[E],u+s[E+1]);const h=new Int32Array(3*r),T=(e,n)=>e===t[3*n]?0:e===t[3*n+1]?1:e===t[3*n+2]?2:-1,p=(t,e)=>{const n=T(t,e);h[3*e+n]=-1},A=(t,e,n,r)=>{const i=T(t,e);h[3*e+i]=r;const s=T(n,r);h[3*r+s]=e};for(let E=0;E<n;E++){let t=i[E];const e=i[E+1];let n=s[E];const r=s[E+1];for(;t<e&&n<r;){const e=l[2*t],r=l[2*u+2*n];e===r?(A(E,l[2*t+1],r,l[2*u+2*n+1]),t++,n++):e<r?(p(E,l[2*t+1]),t++):(p(r,l[2*u+2*n+1]),n++)}for(;t<e;)p(E,l[2*t+1]),t++;for(;n<r;)p(l[2*u+2*n],l[2*u+2*n+1]),n++}return h}var s=n(55158),o=n(4760),a=n(67009),c=n(84936),l=n(32035),u=n(12400),f=n(50256),d=n(16889);n(38461);function h(t,e,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;const o=1/(Math.abs(n)+Math.abs(r)+Math.abs(i)),a=n*o,c=r*o,l=i<=0?(a>=0?1:-1)*(1-Math.abs(c)):a,u=i<=0?(c>=0?1:-1)*(1-Math.abs(a)):c,f=e*s;t[f]=T(l),t[f+1]=T(u)}function T(t){return(0,d.uZ)(Math.round(32767*t),-32767,32767)}class p{updateSettings(t){this.settings=t,this._edgeHashFunction=t.reducedPrecision?O:g}write(t,e,n){R.seed=this._edgeHashFunction(n);const r=R.getIntRange(0,255),i=R.getIntRange(0,this.settings.variants-1),s=R.getFloat(),o=255*(.5*function(t,e){return Math.abs(t)**e*Math.sign(t)}(-(1-Math.min(s/.7,1))+Math.max(0,s-.7)/(1-.7),1.2)+.5);t.position0.setVec(e,n.position0),t.position1.setVec(e,n.position1),t.componentIndex.set(e,n.componentIndex),t.variantOffset.set(e,r),t.variantStroke.set(e,i),t.variantExtension.set(e,o)}}const A=new Float32Array(6),E=new Uint32Array(A.buffer),N=new Uint32Array(1);function g(t){return A[0]=t.position0[0],A[1]=t.position0[1],A[2]=t.position0[2],A[3]=t.position1[0],A[4]=t.position1[1],A[5]=t.position1[2],N[0]=31*(31*(31*(31*(31*(166811+E[0])+E[1])+E[2])+E[3])+E[4])+E[5],N[0]}function O(t){const e=A;e[0]=S(t.position0[0]),e[1]=S(t.position0[1]),e[2]=S(t.position0[2]),e[3]=S(t.position1[0]),e[4]=S(t.position1[1]),e[5]=S(t.position1[2]),N[0]=5381;for(let n=0;n<E.length;n++)N[0]=31*N[0]+E[n];return N[0]}const I=1e4;function S(t){return Math.round(t*I)/I}class m{constructor(){this._commonWriter=new p}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return a.dG.createBuffer(t)}write(t,e,n){this._commonWriter.write(t,e,n),(0,l.g)(w,n.faceNormal0,n.faceNormal1),(0,l.n)(w,w);const{typedBuffer:r,typedBufferStride:i}=t.normalCompressed;h(r,e,w[0],w[1],w[2],i)}}m.Layout=a.dG,m.glLayout=(0,f.K)(a.dG,1);class y{constructor(){this._commonWriter=new p}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return a.Hr.createBuffer(t)}write(t,e,n){this._commonWriter.write(t,e,n);{const{typedBuffer:r,typedBufferStride:i}=t.normalCompressed;h(r,e,n.faceNormal0[0],n.faceNormal0[1],n.faceNormal0[2],i)}{const{typedBuffer:r,typedBufferStride:i}=t.normal2Compressed;h(r,e,n.faceNormal1[0],n.faceNormal1[1],n.faceNormal1[2],i)}}}y.Layout=a.Hr,y.glLayout=(0,f.K)(a.Hr,1);const w=(0,u.Ue)(),R=new c.Z;var U=n(32666);function v(t){const e=_(t.data,t.skipDeduplicate,t.indices,t.indicesLength);return M.updateSettings(t.writerSettings),L.updateSettings(t.writerSettings),(0,U.n)(e,M,L)}function _(t,e,n,s){if(e){const e=i(n,s,t.count);return new F(n,s,e,t)}const o=(0,r.d)(t.buffer,t.stride/4,{originalIndices:n,originalIndicesLength:s}),c=i(o.indices,s,o.uniqueCount);return{faces:o.indices,facesLength:o.indices.length,neighbors:c,vertices:a.tf.createView(o.buffer)}}class F{constructor(t,e,n,r){this.faces=t,this.facesLength=e,this.neighbors=n,this.vertices=r}}const M=new m,L=new y,C=(0,s.U$)().vec3f(o.T.POSITION0).vec3f(o.T.POSITION1),P=(0,s.U$)().vec3f(o.T.POSITION0).vec3f(o.T.POSITION1).u16(o.T.COMPONENTINDEX)},61109:(t,e,n)=>{n.d(e,{G:()=>r});class r{constructor(t,e,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;this.name=t,this.count=e,this.type=n,this.offset=r,this.stride=i,this.normalized=s,this.divisor=o}}}}]);
//# sourceMappingURL=423.b0fa2a88.chunk.js.map