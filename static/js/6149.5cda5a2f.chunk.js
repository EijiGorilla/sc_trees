"use strict";(self.webpackChunksc_trees=self.webpackChunksc_trees||[]).push([[6149,1700],{11186:(t,e,n)=>{n.d(e,{a:()=>o,b:()=>c,c:()=>i,d:()=>r,e:()=>a,f:()=>f,n:()=>s,s:()=>u,t:()=>l});n(93169),n(32718);function r(t,e,n){o(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function o(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;if(t.length/r!==Math.ceil(e.length/o))return t;const i=t.length/r,l=n[0],f=n[1],u=n[2],c=n[4],a=n[5],s=n[6],p=n[8],d=n[9],g=n[10],y=n[12],h=n[13],m=n[14];let A=0,S=0;for(let B=0;B<i;B++){const n=e[A],i=e[A+1],B=e[A+2];t[S]=l*n+c*i+p*B+y,t[S+1]=f*n+a*i+d*B+h,t[S+2]=u*n+s*i+g*B+m,A+=o,S+=r}return t}function i(t,e,n){l(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function l(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;if(t.length/r!==Math.ceil(e.length/o))return;const i=t.length/r,l=n[0],f=n[1],u=n[2],c=n[3],a=n[4],s=n[5],p=n[6],d=n[7],g=n[8];let y=0,h=0;for(let m=0;m<i;m++){const n=e[y],i=e[y+1],m=e[y+2];t[h]=l*n+c*i+p*m,t[h+1]=f*n+a*i+d*m,t[h+2]=u*n+s*i+g*m,y+=o,h+=r}}function f(t,e,n){u(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function u(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;const i=Math.min(t.length/r,e.length/o);let l=0,f=0;for(let u=0;u<i;u++)t[f]=n*e[l],t[f+1]=n*e[l+1],t[f+2]=n*e[l+2],l+=o,f+=r;return t}function c(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;const i=t.length/r;if(i!==Math.ceil(e.length/o))return t;let l=0,f=0;for(let u=0;u<i;u++)t[f]=e[l]+n[0],t[f+1]=e[l+1]+n[1],t[f+2]=e[l+2]+n[2],l+=o,f+=r;return t}function a(t,e){s(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function s(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;const o=Math.min(t.length/n,e.length/r);let i=0,l=0;for(let f=0;f<o;f++){const o=e[i],f=e[i+1],u=e[i+2],c=o*o+f*f+u*u;if(c>0){const e=1/Math.sqrt(c);t[l]=e*o,t[l+1]=e*f,t[l+2]=e*u}i+=r,l+=n}}Object.freeze(Object.defineProperty({__proto__:null,normalize:s,normalizeView:a,scale:u,scaleView:f,shiftRight:function(t,e,n){const r=Math.min(t.count,e.count),o=t.typedBuffer,i=t.typedBufferStride,l=e.typedBuffer,f=e.typedBufferStride;let u=0,c=0;for(let a=0;a<r;a++)o[c]=l[u]>>n,o[c+1]=l[u+1]>>n,o[c+2]=l[u+2]>>n,u+=f,c+=i},transformMat3:l,transformMat3View:i,transformMat4:o,transformMat4View:r,translate:c},Symbol.toStringTag,{value:"Module"}))},6754:(t,e,n)=>{n.d(e,{a:()=>o,b:()=>f,n:()=>l,s:()=>u,t:()=>i});n(93169);var r=n(32718);function o(t,e,n){i(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function i(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;if(t.length/r!=e.length/o)return;const i=t.length/r,l=n[0],f=n[1],u=n[2],c=n[3],a=n[4],s=n[5],p=n[6],d=n[7],g=n[8];let y=0,h=0;for(let m=0;m<i;m++){const n=e[y],i=e[y+1],m=e[y+2],A=e[y+3];t[h]=l*n+c*i+p*m,t[h+1]=f*n+a*i+d*m,t[h+2]=u*n+s*i+g*m,t[h+3]=A,y+=o,h+=r}}function l(t,e){const n=Math.min(t.count,e.count),r=t.typedBuffer,o=t.typedBufferStride,i=e.typedBuffer,l=e.typedBufferStride;for(let f=0;f<n;f++){const t=f*o,e=f*l,n=i[e],u=i[e+1],c=i[e+2],a=n*n+u*u+c*c;if(a>0){const e=1/Math.sqrt(a);r[t]=e*n,r[t+1]=e*u,r[t+2]=e*c}}}function f(t,e,n){u(t.typedBuffer,e,n,t.typedBufferStride)}function u(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;const o=Math.min(t.length/r,e.count),i=e.typedBuffer,l=e.typedBufferStride;let f=0,u=0;for(let c=0;c<o;c++)t[u]=n*i[f],t[u+1]=n*i[f+1],t[u+2]=n*i[f+2],t[u+3]=n*i[f+3],f+=l,u+=r}Object.freeze(Object.defineProperty({__proto__:null,normalize:l,scale:u,scaleView:f,transformMat3:i,transformMat3View:o,transformMat4:function(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o;if(t.length/o!=e.length/i)return void r.Z.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const l=t.length/o,f=n[0],u=n[1],c=n[2],a=n[3],s=n[4],p=n[5],d=n[6],g=n[7],y=n[8],h=n[9],m=n[10],A=n[11],S=n[12],B=n[13],T=n[14],v=n[15];let M=0,w=0;for(let r=0;r<l;r++){const n=e[M],r=e[M+1],l=e[M+2],P=e[M+3];t[w]=f*n+s*r+y*l+S*P,t[w+1]=u*n+p*r+h*l+B*P,t[w+2]=c*n+d*r+m*l+T*P,t[w+3]=a*n+g*r+A*l+v*P,M+=i,w+=o}},transformMat4View:function(t,e,n){if(t.count!==e.count)return;const r=t.count,o=n[0],i=n[1],l=n[2],f=n[3],u=n[4],c=n[5],a=n[6],s=n[7],p=n[8],d=n[9],g=n[10],y=n[11],h=n[12],m=n[13],A=n[14],S=n[15],B=t.typedBuffer,T=t.typedBufferStride,v=e.typedBuffer,M=e.typedBufferStride;for(let w=0;w<r;w++){const t=w*T,e=w*M,n=v[e],r=v[e+1],P=v[e+2],R=v[e+3];B[t]=o*n+u*r+p*P+h*R,B[t+1]=i*n+c*r+d*P+m*R,B[t+2]=l*n+a*r+g*P+A*R,B[t+3]=f*n+s*r+y*P+S*R}}},Symbol.toStringTag,{value:"Module"}))},68859:(t,e,n)=>{n.d(e,{K:()=>l});var r=n(12400),o=n(45925),i=n(50628);function l(t,e,n,r){if((0,o.canProjectWithoutEngine)(t.spatialReference,n)){f[0]=t.x,f[1]=t.y;const o=t.z;return f[2]=o??r??0,(0,i.projectBuffer)(f,t.spatialReference,0,e,n,0,1)}const l=(0,o.tryProjectWithZConversion)(t,n);return!!l&&(e[0]=l?.x,e[1]=l?.y,e[2]=l?.z??r??0,!0)}const f=(0,r.Ue)()},86372:(t,e,n)=>{n.d(e,{JK:()=>f,QZ:()=>i,Rq:()=>l,bg:()=>o,mB:()=>u});var r=n(18722);function o(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t<=r.c8?e?new Array(t).fill(0):new Array(t):new Float64Array(t)}function i(t){return((0,r.kJ)(t)?t.length:t.byteLength/8)<=r.c8?Array.from(t):new Float64Array(t)}function l(t,e,n){return Array.isArray(t)?t.slice(e,e+n):t.subarray(e,e+n)}function f(t,e){for(let n=0;n<e.length;++n)t[n]=e[n];return t}function u(t){return Array.isArray(t)?new Float64Array(t):t}},11700:(t,e,n)=>{n.d(e,{Gi:()=>B,Iz:()=>v,M2:()=>b,To:()=>P,VS:()=>F,XO:()=>w,Yk:()=>M,pn:()=>T,project:()=>C,w9:()=>R,wi:()=>E});var r=n(16889),o=n(29303),i=n(21389),l=n(29134),f=n(7025),u=n(32035),c=n(12400),a=n(45925),s=n(29691),p=n(86452),d=n(50628),g=n(86372),y=(n(22186),n(92975)),h=n(81753),m=n(25158),A=n(11186),S=n(6754);const B="Projection may be possible after calling projection.load().";function T(t,e,n,r){t.error(`Failed to project from (wkid:${e.wkid}) to (wkid:${n.wkid}).${r?" ":""}${r}`)}function v(t,e,n,r,o){return U(_.TO_PCPF,m.ct.fromTypedArray(t),O.NORMAL,m.fP.fromTypedArray(e),m.fP.fromTypedArray(n),r,m.ct.fromTypedArray(o))?o:null}function M(t,e,n,r,o){return U(_.FROM_PCPF,m.ct.fromTypedArray(t),O.NORMAL,m.fP.fromTypedArray(e),m.fP.fromTypedArray(n),r,m.ct.fromTypedArray(o))?o:null}function w(t,e,n){return(0,d.projectBuffer)(t,e,0,n,(0,s.rS)(e),0,t.length/3)?n:null}function P(t,e,n){return(0,d.projectBuffer)(t,(0,s.rS)(n),0,e,n,0,t.length/3)?e:null}function R(t,e,n){return(0,o.XL)(k,n),(0,A.t)(e,t,k),(0,r.oc)(k)&&(0,A.n)(e,e),e}function F(t,e,n){return(0,o.xO)(k,n),(0,S.t)(e,t,k),(0,r.oc)(k)&&(0,A.n)(e,e,4),e}function E(t,e,n,r,o){if(!U(_.TO_PCPF,m.ct.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),O.TANGENT,m.fP.fromTypedArray(e),m.fP.fromTypedArray(n),r,m.ct.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let i=3;i<t.length;i+=4)o[i]=t[i];return o}function b(t,e,n,r,o){if(!U(_.FROM_PCPF,m.ct.fromTypedArray(t,16),O.TANGENT,m.fP.fromTypedArray(e),m.fP.fromTypedArray(n),r,m.ct.fromTypedArray(o,16)))return null;for(let i=3;i<t.length;i+=4)o[i]=t[i];return o}var O,_,x;function N(t,e,n,r,i){switch((0,p.B)(r,n,j,r),t===_.FROM_PCPF&&(0,l.U_)(j,j),e){case O.NORMAL:return(0,o.XL)(i,j);case O.TANGENT:return(0,o.xO)(i,j)}}function U(t,e,n,r,o,i,l){if(!e)return;const f=r.count,c=(0,s.rS)(i);if(function(t){return t.isWGS84||(0,y.yW)(t)||(0,y.BZ)(t)||(0,y.V2)(t)}(i))for(let a=0;a<f;a++)o.getVec(a,G),e.getVec(a,V),(0,u.t)(V,V,N(t,n,G,c,k)),l.setVec(a,V);else for(let a=0;a<f;a++){o.getVec(a,G),e.getVec(a,V);const i=(0,h.mZ)(r.get(a,1));let f=Math.cos(i);n===O.TANGENT!=(t===_.TO_PCPF)&&(f=1/f),N(t,n,G,c,k),t===_.TO_PCPF?(k[0]*=f,k[1]*=f,k[2]*=f,k[3]*=f,k[4]*=f,k[5]*=f):(k[0]*=f,k[3]*=f,k[6]*=f,k[1]*=f,k[4]*=f,k[7]*=f),(0,u.t)(V,V,k),(0,u.n)(V,V),l.setVec(a,V)}return l}function C(t){return"local"===t.vertexSpace.type?function(t){let{vertexSpace:e,transform:n,inSpatialReference:r,outSpatialReference:o,localMode:i,outPositions:u,positions:y}=t;const h=e.origin??c.AG,m=null!=e.origin?n?.localMatrix??f.Wd:f.Wd,S=(0,s.rS)(r),B=o.isWebMercator&&i||!(0,a.canProjectWithoutEngine)(r,S)?r:S;(0,p.B)(r,h,j,B),(0,l.Jp)(j,j,m);const T=u??(0,g.bg)(y.length);return(0,A.a)(T,y,j),(0,d.projectBuffer)(T,B,0,T,o,0,T.length/3),T}(t):function(t){let{vertexSpace:e,transform:n,outPositions:r,positions:o,inSpatialReference:i,outSpatialReference:a}=t;const s=null!=e.origin?n?.localMatrix??f.Wd:f.Wd,p=r??(0,g.bg)(o.length);(0,l.fS)(s,f.Wd)?(0,g.JK)(p,o):(0,A.a)(p,o,s);const y=e.origin??c.AG;if(!(0,u.e)(y,c.AG)){const[t,e,n]=y;for(let r=0;r<p.length;r+=3)p[r]+=t,p[r+1]+=e,p[r+2]+=n}return(0,d.projectBuffer)(p,i,0,p,a,0,p.length/3)?p:null}(t)}(x=O||(O={}))[x.NORMAL=0]="NORMAL",x[x.TANGENT=1]="TANGENT",function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(_||(_={}));const G=(0,c.Ue)(),V=(0,c.Ue)(),j=(0,f.Ue)(),k=(0,i.Ue)()},66149:(t,e,n)=>{n.d(e,{qk:()=>B,ur:()=>w,x1:()=>S});var r=n(32718),o=n(16889),i=n(68860),l=n(29303),f=n(21389),u=n(29134),c=n(7025),a=n(32035),s=n(12400),p=n(29691),d=n(86452),g=n(68859),y=n(69048),h=n(11186),m=n(11700);const A=()=>r.Z.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function S(t,e,n){let{vertexSpace:r,spatialReference:o}=n;if("georeferenced"===r.type){const n=t;if(!(0,g.K)(e,n,o))return!1;const{origin:i}=r;return(0,a.f)(t,n,i),!0}const i=(0,p.rS)(o),l=t;if(!(0,g.K)(e,l,i))return!1;const{origin:f}=r,c=b;if(!(0,d.B)(o,f,c,i))return!1;const s=(0,u.U_)(b,c);return null!=s&&((0,a.h)(t,l,s),!0)}function B(t,e,n){const{vertexSpace:r,transform:i,vertexAttributes:f}=t,s=M(t.spatialReference,n,O.SOURCE|O.TARGET);if((0,y.vI)(r,e)&&(!i||(0,u.I6)(i.localMatrix,c.Wd))&&(0,o.Po)(s,1)){const{position:t,normal:e,tangent:r}=f,o=n?.allowBufferReuse;return{position:o?t:t.slice(),normal:o?e:e?.slice(),tangent:o?r:r?.slice()}}switch(t.vertexSpace.type){case"local":return"local"===e.type?function(t,e,n,r){let{vertexAttributes:o,spatialReference:i,transform:l}=t,{origin:f}=e;const c=(0,p.rS)(i);if(!(0,d.B)(i,f,P,c))return(0,m.pn)(A(),i,c),null;if(l&&(0,u.Jp)(P,P,l.localMatrix),!(0,d.B)(i,n,R,c))return(0,m.pn)(A(),c,i),null;(0,u.U_)(R,R);const a=(0,u.Jp)(P,R,P);return v(a,i,r,O.SOURCE|O.TARGET),T(o,a)}(t,t.vertexSpace,e.origin,n):function(t,e,n,r){let{spatialReference:o,vertexAttributes:i,transform:l}=t,{origin:f}=e;const c=(0,p.rS)(o);if(!(0,d.B)(o,f,P,c))return(0,m.pn)(A(),o,c),null;l&&(0,u.Jp)(P,P,l.localMatrix),v(P,o,r,O.SOURCE);const s=new Float64Array(i.position.length),g=function(t,e,n,r){(0,h.a)(r,t,e);const o=new Float64Array(t.length);return(0,m.To)(r,o,n)?o:((0,m.pn)(A(),(0,p.rS)(n),n),null)}(i.position,P,o,s);if(!g)return null;const y=function(t,e,n,r,o){if(null==n)return null;const i=new Float32Array(n.length);return(0,m.w9)(n,i,r),(0,m.Yk)(i,t,e,o,i)?i:((0,m.pn)(A(),(0,p.rS)(o),o),null)}(g,s,i.normal,P,o);if(i.normal&&!y)return null;const S=function(t,e,n,r,o){if(null==n)return null;const i=new Float32Array(n.length);return(0,m.VS)(n,i,r),(0,m.M2)(i,t,e,o,i)?i:((0,m.pn)(A(),(0,p.rS)(o),o),null)}(g,s,i.tangent,P,o);if(i.tangent&&!S)return null;if(n){const t=(0,a.k)(E,n);(0,h.b)(g,g,t)}return{position:g,normal:y,tangent:S}}(t,t.vertexSpace,e.origin,n);case"georeferenced":return"local"===e.type?function(t,e,n,r){let{vertexAttributes:o,spatialReference:i,transform:f}=t,{origin:c}=e;const a=(0,p.rS)(i);if(!(0,d.B)(i,n,P,a))return(0,m.pn)(A(),i,a),null;const s=1/M(i,r,O.TARGET);(0,u.bA)(P,P,[s,s,s]);const g=(0,u.U_)(R,P),{position:y,normal:S,tangent:B}=function(t,e,n){if(!e)return t;if(!n){const{position:n,normal:r,tangent:o}=t;return{position:(0,h.b)(new Float64Array(n.length),n,e),tangent:o,normal:r}}const r=T(t,n.localMatrix);return(0,h.b)(r.position,r.position,e),r}(o,c,f),v=new Float64Array(y.length),w=function(t,e,n,r){const o=(0,m.XO)(t,e,r);if(!o)return(0,m.pn)(A(),e,(0,p.rS)(e)),null;const i=new Float64Array(o.length);return(0,h.a)(i,o,n),i}(y,i,g,v);if(!w)return null;const E=(0,l.XL)(F,g),b=function(t,e,n,r,o,i){if(null==t)return null;const l=i??new Float32Array(t.length);return(0,m.Iz)(t,e,n,r,l)?((0,h.t)(l,l,o),l):((0,m.pn)(A(),r,(0,p.rS)(r)),null)}(S,y,v,i,E,S!==o.normal?S:void 0);if(!b&&S)return null;const _=function(t,e,n,r,o,i){if(null==t)return null;const l=i??new Float32Array(t.length);return(0,m.wi)(t,e,n,r,l)?((0,h.t)(l,l,o,4),l):((0,m.pn)(A(),r,(0,p.rS)(r)),null)}(B,y,v,i,E,B!==o.tangent?B:void 0);return!_&&B?null:{position:w,normal:b,tangent:_}}(t,t.vertexSpace,e.origin,n):function(t,e,n,r){let{vertexAttributes:o,transform:i,spatialReference:l}=t,{origin:f}=e;const{position:u,normal:c,tangent:s}=i?T(o,i.localMatrix):o,p=new Float64Array(u.length);let d=u;if(f&&(d=(0,h.b)(p,d,f)),n){const t=(0,a.k)(E,n);d=(0,h.b)(p,d,t)}M(l,r,O.NONE);const g=r?.allowBufferReuse;return{position:d!==o.position||g?d:d.slice(),normal:c!==o.normal||g?c:c?.slice(),tangent:s!==o.tangent||g?s:s?.slice()}}(t,t.vertexSpace,e.origin,n)}}function T(t,e){const n=new Float64Array(t.position.length);(0,h.a)(n,t.position,e);const r=t.normal?new Float32Array(t.normal.length):null,o=t.tangent?new Float32Array(t.tangent.length):null;return r&&t.normal&&(0,m.w9)(t.normal,r,e),o&&t.tangent&&(0,m.VS)(t.tangent,o,e),{position:n,normal:r,tangent:o}}function v(t,e,n,r){const o=M(e,n,r);1!==o&&(0,u.bA)(t,t,[o,o,o])}function M(t,e,n){const r=!!(n&O.SOURCE),o=!!(n&O.TARGET),i=e?.sourceUnit,l=e?.targetUnit;if(!i&&!l)return 1;let f=w(i,t);!r&&i&&1!==f&&(A().warn("source unit conversion not supported"),f=1);let u=1/w(l,t);return!o&&l&&1!==u&&(A().warn("target unit conversion not supported"),u=1),f*u}function w(t,e){if(null==t)return 1;const n=(0,i.r6)(e);return 1/(0,i.En)(n,"meters",t)}const P=(0,c.Ue)(),R=(0,c.Ue)(),F=(0,f.Ue)(),E=(0,s.Ue)(),b=(0,c.Ue)();var O;!function(t){t[t.NONE=0]="NONE",t[t.SOURCE=1]="SOURCE",t[t.TARGET=2]="TARGET"}(O||(O={}))}}]);
//# sourceMappingURL=6149.5cda5a2f.chunk.js.map